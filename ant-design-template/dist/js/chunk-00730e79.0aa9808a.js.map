{"version":3,"sources":["webpack:///./src/service/Download.ts","webpack:///./node_modules/core-js/modules/es.array.join.js"],"names":["encodeSearchParams","obj","params","Object","keys","forEach","key","value","Array","isArray","item","push","encodeURIComponent","join","prototype","toString","call","download","url","baseUrl","href","downloadElement","document","createElement","body","appendChild","click","removeChild","$","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","ES3_STRINGS","STRICT_METHOD","target","proto","forced","separator","this","undefined"],"mappings":"oNAAA,SAASA,EAAmBC,GAC1B,IAAMC,EAAmB,GAuBzB,OAtBAC,OAAOC,KAAKH,GAAKI,SAAQ,SAAAC,GACvB,IAAIC,EAAQN,EAAIK,GAEK,qBAAVC,IACTA,EAAQ,IAGNC,MAAMC,QAAQR,EAAIK,KAEpBC,EAAMF,SAAQ,SAACK,GACbR,EAAOS,KAAK,CAACL,EAAKM,mBAAmBF,IAAOG,KAAK,SAGJ,oBAA7CV,OAAOW,UAAUC,SAASC,KAAKf,EAAIK,IAErCH,OAAOC,KAAKH,EAAIK,IAAMD,SAAQ,SAAAK,GAC5BR,EAAOS,KAAK,CAACL,EAAKM,mBAAmBX,EAAIK,GAAKI,KAAQG,KAAK,SAG7DX,EAAOS,KAAK,CAACL,EAAKM,mBAAmBL,IAAQM,KAAK,SAG/CX,EAAOW,KAAK,KAGf,SAAUI,EAASC,EAAajB,GACpC,IAAMkB,EAAU,GACVC,EAAO,GAAH,OAAMD,GAAN,OAAgBD,EAAhB,YAAuBlB,EAAmBC,IAE9CoB,EAAkBC,SAASC,cAAc,KAC/CF,EAAgBD,KAAOA,EACvBE,SAASE,KAAKC,YAAYJ,GAC1BA,EAAgBK,QAChBJ,SAASE,KAAKG,YAAYN,K,kCClC5B,IAAIO,EAAI,EAAQ,QACZC,EAAgB,EAAQ,QACxBC,EAAkB,EAAQ,QAC1BC,EAAsB,EAAQ,QAE9BC,EAAa,GAAGnB,KAEhBoB,EAAcJ,GAAiB1B,OAC/B+B,EAAgBH,EAAoB,OAAQ,KAIhDH,EAAE,CAAEO,OAAQ,QAASC,OAAO,EAAMC,OAAQJ,IAAgBC,GAAiB,CACzErB,KAAM,SAAcyB,GAClB,OAAON,EAAWhB,KAAKc,EAAgBS,WAAqBC,IAAdF,EAA0B,IAAMA","file":"js/chunk-00730e79.0aa9808a.js","sourcesContent":["function encodeSearchParams(obj: any) {\r\n  const params: string[] = [];\r\n  Object.keys(obj).forEach(key => {\r\n    let value = obj[key];\r\n    // 如果值为undefined置空\r\n    if (typeof value === 'undefined') {\r\n      value = '';\r\n    }\r\n    //使用encodeURIComponent进行编码\r\n    if (Array.isArray(obj[key])) {\r\n      //类型为数组的时候\r\n      value.forEach((item: string | number | boolean) => {\r\n        params.push([key, encodeURIComponent(item)].join('='));\r\n      });\r\n    }\r\n    if (Object.prototype.toString.call(obj[key]) === '[object Object]') {\r\n      //类型为对象的时候\r\n      Object.keys(obj[key]).forEach(item => {\r\n        params.push([key, encodeURIComponent(obj[key][item])].join('='));\r\n      });\r\n    } else {\r\n      params.push([key, encodeURIComponent(value)].join('='));\r\n    }\r\n  });\r\n  return params.join('&');\r\n}\r\n\r\nexport function download(url: string, obj: any) {\r\n  const baseUrl = process.env.VUE_APP_DOWNLOAD_URL;\r\n  const href = `${baseUrl}${url}?${encodeSearchParams(obj)}`;\r\n  // 前端获取业务码，成功执行正常业务\r\n  const downloadElement = document.createElement('a');\r\n  downloadElement.href = href;\r\n  document.body.appendChild(downloadElement);\r\n  downloadElement.click(); // 点击下载\r\n  document.body.removeChild(downloadElement); // 下载完成移除元素\r\n}\r\n","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n"],"sourceRoot":""}